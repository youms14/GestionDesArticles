{% extends "base2.html" %} 

{% block title %}Connexion au blog{% endblock %} 

{%block content %}

    <div class="container">
        <div class="col-md-12 mt-5 p-5">
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-danger text-center"><strong>{{message}}</strong></div>
                {% endfor %}
            {% endif %}
            {% if msg %}
            <div class="alert alert-success" role="alert">
                {{msg}}
              </div>
            {% endif %}
            <form action="" method="POST" novalidate>{% csrf_token %}
                <div class="card">
                    <div class="card-header text-center"><i class="fas fa-user"></i>Connexion au blog </div>
                    <div class="card-body">
                        <label for="id_username">Nom Utilisateur</label>
                        {% if form.username.errors %}
                            {% for error in form.username.errors %}
                            <div>
                                <small class="text-danger" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; font-weight: 700">{{error}}</small>
                            </div>
                            {% endfor %} 
                        {% endif %}
                        {{form.username}}
                        <label for="id_pwd">Mot de Passe</label>
                        {% if form.pwd.errors %}
                            {% for error in form.pwd.errors %}
                            <div>
                                <small class="text-danger" style="font-family: 'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif; font-weight: 700">{{error}}</small>
                            </div>
                            {% endfor %}
                        {% endif %}
                        {{form.pwd}}
                    </div>
                    <div class="card-footer">
                        <button class="btn btn-primary btn-block">Se connecter</button>
                    </div>
                </div>
                <div class="text-center">
                    Vous n'avez pas encore de compte? <a href={% url 'register' %}>Cr√©er Votre Compte</a>
                </div>
                
            </form>
        </div>
    </div>

{% endblock %}

{% block scripts %}
    <script>
        $(document).ready(function(){
            $('input').keyup(function(){
                let textSaisi= $(this).val();
                if(textSaisi === ""){
                    if(!$(this).hasClass('is-invalid')){
                        $(this).addClass('is-invalid')
                    }
                }else{
                    $(this).removeClass('is-invalid');
                }
                
            })
        })
    </script>
{% endblock %}
